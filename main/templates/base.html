<!DOCTYPE html>
{% load i18n %}
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="apple-mobile-web-app-capable" content="no">
        <meta name="apple-mobile-web-app-status-bar-style" content="translucent">
        <meta name="referrer" content="same-origin">
        <meta name="keywords" content="SuperFarmer,Kyan">
        <meta name="description" content="{{ fld }} is a website for Kyan (a.k.a. SuperFarmer)">
        <meta name="theme-color" content="#00A3E9">
        {% block icon %}
            <link rel="icon" href="/static/img/favicon.jpg">
            <link href="/static/img/favicon.jpg" rel="apple-touch-icon">
        {% endblock icon %}
        <title>{% block title %}{% endblock %}</title>
        <script src="/static/3rd/jquery/jquery-2.1.3.min.js"></script>
        <script src="/static/3rd/bootstrap/js/bootstrap.min.js"></script>
        <script src="/static/js/KyanJsUtil.js?version=1.5.1"></script>
        {% block theme %}
            {% if request.COOKIES.theme %}
                <link rel="stylesheet" href="/static/3rd/bootstrap/css/bootstrap-{{request.COOKIES.theme}}.min.css">
            {% else %}
                <link rel="stylesheet" href="/static/3rd/bootstrap/css/bootstrap.min.css">
            {% endif %}
        {% endblock theme %}
        <link rel="stylesheet" href="/static/css/KyanCssUtil.css?version=1.5.1">
        {% block inhead %}{% endblock %}
        <script>
            $(document).ajaxError(function (event, jqxhr, settings, exception) {
                console.debug("|-- " + event.type + ", " + settings.url);
                console.debug("    |-- status: (" + jqxhr.status + ') ' + jqxhr.statusText);
                console.debug("    |-- readyState: " + jqxhr.readyState);
                console.debug("    |-- setting: " + settings.dataType + ', ' + settings.type)
            })
            document.addEventListener('visibilitychange', function () {
                if (document.visibilityState == 'hidden') {
                    orginal_title = document.title
                    document.title = orginal_title + ' - {{ fld|default:"PAUSE" }}'
                } else {
                    document.title = orginal_title
                }
            })
        </script>
        <style>
            html,
            body,
            .container,
            .container-fluid {
                font-family: "Hiragino Sans GB", "Source Han Sans SC Regular", "微软雅黑", "Microsoft YaHei", "Helvetica Neue", Helvetica, "Segoe UI", Tahoma, Arial, STHeiti, sans-serif;
                height: 100%;
            }
            .glyphicon {
                vertical-align: baseline;
            }
            @media (min-width: 1400px) {
                .container {
                    width: 1400px;
                }
            }
        </style>
        {% block css %}{% endblock %}
        {% block js %}{% endblock %}
    </head>
    <body>
        <!-- ############ MESSAGES ############-->
        {% include "messages.html" %}
        <!-- ############ NAVIGATIONS ############-->
        <div id="nav-btn-zone">
            {% block nav-btn %}
                <a href="javascript:void(0)" class="btn btn-warning btn-sm" onclick="history.back()">
                    <span class="glyphicon glyphicon-arrow-left"></span>
                    {% trans "回到上一页" %}
                </a>
            {% endblock nav-btn %}
            <span id="function-btn-zone">
                {% block function-btn %}{% endblock %}
            </span>
        </div>
        <style>
            #nav-btn-zone {
                position: fixed;
                top: 10px;
                left: 5%;
                z-index: 800;
                font-size: 15px;
            }
            @media (max-width: 768px) {
                #function-btn-zone {
                    position: fixed;
                    bottom: 66px;
                    right: 5%;
                    z-index: 800;
                    font-size: 15px;
                }
                #function-btn-zone .btn {
                    box-shadow: 0 2px 2px 1px rgba(0,0,0,0.3);
                }
            }
            #nav-btn-zone .dropdown-menu > li > a {
                line-height: 40px;
            }
        </style>
        <!-- ############ USER BAR ############-->
        {% block userbar %}
            {% include "userbar.html" %}
        {% endblock userbar %}
        <!-- ############ CONTENT ############-->
        <div id="the-very-div">
            {% block content %}
            {% endblock content %}
        </div>

        <!-- ############ FOOTER ############-->
        {% block footer %}
        <div id="footer-div">
            <blockquote class="footer hidden-xs blockquote-reverse">
                <div id="behappy" class="ani-normal">
                    <strong>Be happy.</strong>
                    <i>Keep Healthy, Keep Happy, Keep Thinking, Keep Cool.</i>
                </div>
                <footer>
                    <span class="moveable-area">
                        Powered By
                        <a href="http://www.kyan001.com" class="no-decoration">Kyan</a>
                    </span>
                </footer>
            </blockquote>
        </div>
        <style>
            #footer-div {
                position: fixed;
                bottom: 0px;
                right: 0px;
                pointer-events: none;
            }
            #footer-div .footer {
                margin-bottom: 0;
            }
            #footer-div #behappy {
                text-shadow: 0 0 1px white;
                opacity: 0;
            }
            #footer-div:hover #behappy {
                opacity: 1;
            }
            #footer-div .moveable-area {
                pointer-events: auto;
            }
            .container {
                padding-bottom: 40px;
            }
            .container-fluid {
                padding-bottom: 40px;
            }
        </style>
        {% endblock footer %}
        <script src="//instant.page/1.2.1" type="module" integrity="sha384-/IkE5iZAM/RxPto8B0nvKlMzIyCWtYocF01PbGGp1qElJuxv9J4whdWBRtzZltWn"></script>
    </body>
</html>
